<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<title>快速排序</title>
		<style>
            h2{
                margin-left: 30px;
            }
            .quick{
                margin: 30px;
            }
			.quick div {
				display: block;
			}
            .quick span{
				line-height: 25px;
            }
		</style>
	</head>
	<body>
		<h2>快速排序</h2>
		<span style="margin-left: 30px;line-height: 25px;">时间复杂度：O(n log n)；空间复杂度：O(log n)</span>
		<span style="margin-left: 30px;display: block;">1. 首先，在数组中选择一个中间项作为主元</span>
        <span style="margin-left: 30px;display: block;">2. 创建两个指针，左边的指向数组第一个项，右边的指向最后一个项，移动左指针，直到找到一个比主元大的项，接着，移动右边的指针，直到找到一个比主元小的项，然后交换它们。重复这个过程，直到左侧的指针超过了右侧的指针。这个使比主元小的都在左侧，比主元大的都在右侧。这一步叫划分操作</span>
        <span style="margin-left: 30px;display: block;">3. 接着，算法对划分后的小数组（较主元小的值组成的的小数组， 以及较主元大的值组成的小数组）重复之前的两个步骤，直到排序完成</span>
		<div class="quick">
            <span>65, 11, 42, 92, 23, 71, 52, 47, 49, 86, 56, 73, 85</span>
        </div>
		<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
		<script>
			window.onload = () => {
				function quickSort(arr) {
                    if(arr.length <= 1) {       // 当数组长度小于等于1的时候直接返回
                        return arr;
                    }
                    let midIndex = Math.floor(arr.length / 2);      // 获取中间项下标
                    let mid = arr.splice(midIndex, 1)[0];           // 将中间项从原数组“截”出来
                    let left = [];      // 定义比中间项小的数组
                    let right = [];     // 定义比中间项大的数组
                    for(let i = 0; i < arr.length; i++) {
                        // 循环arr数组（不包含mid），将大的push到right，小的push到left
                        if(arr[i] < mid) {
                            left.push(arr[i]);
                        } else {
                            right.push(arr[i]);
                        }
                    }
                    let html = `<div><span style="color:#3f51b5">left：${left}</span><span style="margin:0 20px;color:#f44336">mid：${mid}</span><span>right：${right}</span></div>`;
                    $('.quick').append(html);
                    // 此时得到的是left、mid、right三个数据，但left和right是没有排好序的，因此需要继续循环
                    return quickSort(left).concat(mid, quickSort(right));
                }
                console.log(quickSort([65, 11, 42, 92, 23, 71, 52, 47, 49, 86, 56, 73, 85]))
			};
		</script>
	</body>
</html>
